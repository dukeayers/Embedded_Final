

/*
 * sound.c
 *
 * Created: 12/11/2015 11:22:03 AM
 *  Author: Tsosie
 */
//#include "sign.c"
#include "system.h"
//#include "sd.c"
//#include <stdint.h>

#define _BS(bit) (1<<bit)


//#define F_CPU 8000000
#include <stdint.h>
#include <avr/io.h>

#include <avr/pgmspace.h>
//#include "pcm_sample.h"
#include <avr/interrupt.h>
#define SAMPLE_RATE 8000;
int sample_count;

volatile unsigned long  sample = 0;

 //const unsigned long pcm_length=(0x101E7C8-0x100C00);
 const unsigned long pcm_length=2051;
unsigned char pcm_samples[2051] = {
	0x52, 0x49, 0x46, 0x46, 0xFB, 0x07, 0x00, 0x00, 0x57, 0x41, 0x56, 0x45,
	0x66, 0x6D, 0x74, 0x20, 0x12, 0x00, 0x00, 0x00, 0x01, 0x00, 0x01, 0x00,
	0x40, 0x1F, 0x00, 0x00, 0x40, 0x1F, 0x00, 0x00, 0x01, 0x00, 0x08, 0x00,
	0x00, 0x00, 0x64, 0x61, 0x74, 0x61, 0xD5, 0x07, 0x00, 0x00, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7F, 0x7F, 0x80, 0x7F, 0x80, 0x7F,
	0x80, 0x7F, 0x80, 0x7F, 0x72, 0x74, 0x8B, 0x8D, 0x8C, 0x8A, 0x74, 0x70,
	0x72, 0x71, 0x88, 0x8E, 0x8B, 0x8C, 0x77, 0x6F, 0x72, 0x70, 0x84, 0x8F,
	0x8B, 0x8D, 0x7A, 0x6E, 0x73, 0x6F, 0x81, 0x8F, 0x8A, 0x8E, 0x7E, 0x6E,
	0x72, 0x6F, 0x7D, 0x8F, 0x8B, 0x8E, 0x82, 0x6F, 0x72, 0x70, 0x79, 0x8E,
	0x8B, 0x8D, 0x86, 0x70, 0x71, 0x70, 0x75, 0x8C, 0x8C, 0x8C, 0x89, 0x72,
	0x70, 0x71, 0x73, 0x8A, 0x8D, 0x8B, 0x8C, 0x75, 0x6F, 0x72, 0x71, 0x86,
	0x8E, 0x8B, 0x8D, 0x79, 0x6E, 0x72, 0x70, 0x83, 0x8F, 0x8A, 0x8E, 0x7C,
	0x6E, 0x73, 0x6F, 0x7F, 0x8F, 0x8A, 0x8E, 0x80, 0x6E, 0x72, 0x6F, 0x7B,
	0x8E, 0x8B, 0x8D, 0x85, 0x6E, 0x7C, 0x8D, 0x89, 0x8C, 0x82, 0x70, 0x71,
	0x72, 0x70, 0x83, 0x8D, 0x89, 0x8C, 0x84, 0x71, 0x71, 0x72, 0x70, 0x82,
	0x8E, 0x89, 0x8C, 0x86, 0x72, 0x70, 0x73, 0x70, 0x80, 0x8E, 0x89, 0x8C,
	0x88, 0x73, 0x6F, 0x72, 0x6F, 0x7E, 0x8F, 0x8B, 0x8C, 0x8A, 0x74, 0x6E,
	0x72, 0x6F, 0x7C, 0x8E, 0x8B, 0x8C, 0x8B, 0x76, 0x6E, 0x73, 0x6F, 0x7A,
	0x8E, 0x8C, 0x8C, 0x8C, 0x78, 0x6E, 0x73, 0x6F, 0x79, 0x8D, 0x8D, 0x8B,
	0x8D, 0x7A, 0x6E, 0x72, 0x6F, 0x77, 0x8C, 0x8D, 0x8B, 0x8D, 0x7C, 0x6E,
	0x72, 0x70, 0x75, 0x8A, 0x8E, 0x8B, 0x8E, 0x7E, 0x6E, 0x72, 0x70, 0x74,
	0x89, 0x8E, 0x8A, 0x8E, 0x80, 0x6E, 0x72, 0x71, 0x73, 0x87, 0x8F, 0x8A,
	0x8E, 0x82, 0x6F, 0x71, 0x71, 0x72, 0x86, 0x8F, 0x8A, 0x8E, 0x83, 0x70,
	0x71, 0x71, 0x71, 0x84, 0x8F, 0x8A, 0x8E, 0x85, 0x70, 0x70, 0x72, 0x70,
	0x82, 0x8F, 0x8A, 0x8D, 0x87, 0x72, 0x70, 0x72, 0x6F, 0x81, 0x8E, 0x8B,
	0x8A, 0x8B, 0x89, 0x8B, 0x87, 0x72, 0x70, 0x71, 0x72, 0x87, 0x8B, 0x89,
	0x89, 0x75, 0x6F, 0x72, 0x70, 0x85, 0x8C, 0x89, 0x8C, 0x78, 0x6F, 0x73,
	0x70, 0x81, 0x8D, 0x89, 0x8D, 0x7C, 0x6F, 0x73, 0x6E, 0x7E, 0x8F, 0x89,
	0x8E, 0x80, 0x6D, 0x72, 0x6E, 0x7A, 0x8E, 0x8A, 0x8D, 0x84, 0x6F, 0x72,
	0x6F, 0x77, 0x8D, 0x8B, 0x8D, 0x88, 0x70, 0x71, 0x70, 0x74, 0x8B, 0x8C,
	0x8C, 0x8A, 0x74, 0x70, 0x71, 0x71, 0x88, 0x8E, 0x8B, 0x8D, 0x77, 0x6E,
	0x72, 0x70, 0x84, 0x8F, 0x8A, 0x8D, 0x7B, 0x6E, 0x73, 0x6F, 0x80, 0x8F,
	0x8A, 0x8E, 0x7E, 0x6E, 0x73, 0x6F, 0x7C, 0x8F, 0x8B, 0x8E, 0x82, 0x6F,
	0x72, 0x70, 0x79, 0x8E, 0x8B, 0x8D, 0x86, 0x70, 0x71, 0x70, 0x75, 0x8C,
	0x8C, 0x8C, 0x89, 0x72, 0x70, 0x71, 0x73, 0x89, 0x8D, 0x8B, 0x8C, 0x75,
	0x6F, 0x72, 0x70, 0x86, 0x8E, 0x8B, 0x8C, 0x79, 0x70, 0x73, 0x71, 0x82,
	0x8E, 0x8A, 0x8D, 0x7D, 0x6F, 0x73, 0x70, 0x7F, 0x8E, 0x8A, 0x8D, 0x80,
	0x6F, 0x73, 0x70, 0x7B, 0x8D, 0x8A, 0x8C, 0x84, 0x70, 0x73, 0x71, 0x77,
	0x8C, 0x8B, 0x8C, 0x87, 0x72, 0x72, 0x72, 0x75, 0x8A, 0x8C, 0x8B, 0x89,
	0x74, 0x71, 0x73, 0x73, 0x87, 0x8D, 0x8A, 0x8B, 0x77, 0x70, 0x73, 0x71,
	0x84, 0x8D, 0x8A, 0x8C, 0x7A, 0x6F, 0x73, 0x70, 0x80, 0x8E, 0x8A, 0x8D,
	0x7E, 0x6F, 0x73, 0x70, 0x7D, 0x8E, 0x8A, 0x8D, 0x82, 0x70, 0x73, 0x71,
	0x79, 0x8D, 0x8A, 0x8C, 0x85, 0x71, 0x72, 0x71, 0x76, 0x8B, 0x8B, 0x8B,
	0x88, 0x73, 0x71, 0x72, 0x74, 0x89, 0x8C, 0x8A, 0x8B, 0x75, 0x71, 0x74,
	0x73, 0x86, 0x8C, 0x89, 0x8B, 0x79, 0x71, 0x74, 0x72, 0x82, 0x8D, 0x89,
	0x8C, 0x7D, 0x70, 0x74, 0x71, 0x7F, 0x8D, 0x89, 0x8C, 0x80, 0x71, 0x74,
	0x71, 0x7C, 0x8C, 0x89, 0x8C, 0x83, 0x71, 0x74, 0x72, 0x78, 0x8B, 0x8A,
	0x8B, 0x86, 0x73, 0x73, 0x72, 0x76, 0x89, 0x8B, 0x8A, 0x88, 0x75, 0x72,
	0x73, 0x74, 0x87, 0x8C, 0x89, 0x8A, 0x78, 0x71, 0x74, 0x72, 0x84, 0x8C,
	0x89, 0x8B, 0x7B, 0x70, 0x74, 0x71, 0x81, 0x8D, 0x89, 0x8C, 0x7E, 0x70,
	0x74, 0x71, 0x7D, 0x8C, 0x89, 0x8C, 0x81, 0x71, 0x74, 0x71, 0x7A, 0x8C,
	0x89, 0x8B, 0x84, 0x72, 0x73, 0x72, 0x77, 0x8A, 0x8A, 0x8B, 0x87, 0x74,
	0x72, 0x73, 0x75, 0x88, 0x8B, 0x8A, 0x89, 0x77, 0x73, 0x74, 0x74, 0x85,
	0x8B, 0x89, 0x8A, 0x79, 0x72, 0x75, 0x73, 0x82, 0x8B, 0x88, 0x8B, 0x7C,
	0x71, 0x75, 0x72, 0x7F, 0x8B, 0x88, 0x8B, 0x7F, 0x72, 0x75, 0x72, 0x7C,
	0x8B, 0x88, 0x8B, 0x83, 0x72, 0x74, 0x73, 0x79, 0x8A, 0x89, 0x8A, 0x85,
	0x74, 0x74, 0x73, 0x77, 0x89, 0x8A, 0x8A, 0x87, 0x75, 0x73, 0x74, 0x75,
	0x87, 0x8A, 0x89, 0x89, 0x78, 0x72, 0x74, 0x73, 0x84, 0x8B, 0x88, 0x8A,
	0x7B, 0x72, 0x75, 0x72, 0x81, 0x8B, 0x88, 0x8B, 0x7E, 0x72, 0x75, 0x72,
	0x7E, 0x8B, 0x88, 0x8B, 0x81, 0x72, 0x75, 0x72, 0x7B, 0x8B, 0x89, 0x8A,
	0x84, 0x73, 0x74, 0x73, 0x78, 0x89, 0x88, 0x89, 0x86, 0x75, 0x75, 0x74,
	0x76, 0x87, 0x89, 0x88, 0x88, 0x77, 0x74, 0x75, 0x75, 0x85, 0x8A, 0x88,
	0x89, 0x7A, 0x73, 0x76, 0x74, 0x82, 0x8A, 0x87, 0x8A, 0x7C, 0x73, 0x76,
	0x73, 0x7F, 0x8A, 0x87, 0x8A, 0x7F, 0x73, 0x76, 0x73, 0x7C, 0x8A, 0x87,
	0x8A, 0x82, 0x73, 0x75, 0x73, 0x7A, 0x89, 0x88, 0x89, 0x84, 0x75, 0x75,
	0x74, 0x77, 0x88, 0x89, 0x89, 0x87, 0x76, 0x74, 0x75, 0x75, 0x86, 0x89,
	0x88, 0x88, 0x78, 0x73, 0x75, 0x74, 0x84, 0x8A, 0x87, 0x89, 0x7B, 0x73,
	0x76, 0x73, 0x81, 0x8A, 0x87, 0x8A, 0x7E, 0x73, 0x76, 0x73, 0x7E, 0x8A,
	0x87, 0x8A, 0x80, 0x73, 0x76, 0x73, 0x7B, 0x8A, 0x88, 0x8A, 0x83, 0x74,
	0x75, 0x74, 0x79, 0x88, 0x87, 0x88, 0x85, 0x76, 0x76, 0x75, 0x77, 0x86,
	0x88, 0x88, 0x87, 0x78, 0x75, 0x76, 0x76, 0x84, 0x88, 0x87, 0x88, 0x7A,
	0x74, 0x76, 0x75, 0x82, 0x89, 0x86, 0x89, 0x7C, 0x74, 0x77, 0x74, 0x7F,
	0x89, 0x86, 0x89, 0x7F, 0x74, 0x77, 0x74, 0x7D, 0x89, 0x86, 0x89, 0x81,
	0x74, 0x76, 0x74, 0x7A, 0x88, 0x87, 0x88, 0x84, 0x75, 0x76, 0x75, 0x78,
	0x87, 0x87, 0x88, 0x86, 0x77, 0x75, 0x76, 0x76, 0x85, 0x88, 0x87, 0x87,
	0x79, 0x75, 0x76, 0x75, 0x83, 0x89, 0x87, 0x88, 0x7B, 0x74, 0x76, 0x74,
	0x81, 0x89, 0x86, 0x89, 0x7D, 0x74, 0x77, 0x74, 0x7E, 0x89, 0x86, 0x89,
	0x80, 0x74, 0x77, 0x74, 0x7C, 0x89, 0x86, 0x88, 0x83, 0x76, 0x77, 0x76,
	0x7A, 0x87, 0x86, 0x87, 0x84, 0x77, 0x77, 0x76, 0x78, 0x85, 0x87, 0x86,
	0x86, 0x79, 0x76, 0x77, 0x76, 0x84, 0x87, 0x86, 0x87, 0x7A, 0x75, 0x77,
	0x76, 0x82, 0x88, 0x86, 0x88, 0x7D, 0x75, 0x78, 0x75, 0x7F, 0x88, 0x85,
	0x88, 0x7F, 0x75, 0x78, 0x75, 0x7D, 0x88, 0x85, 0x88, 0x81, 0x76, 0x77,
	0x75, 0x7B, 0x87, 0x86, 0x87, 0x83, 0x76, 0x77, 0x76, 0x79, 0x86, 0x86,
	0x87, 0x85, 0x78, 0x76, 0x76, 0x77, 0x85, 0x87, 0x86, 0x87, 0x79, 0x76,
	0x77, 0x76, 0x83, 0x88, 0x86, 0x88, 0x7B, 0x75, 0x77, 0x75, 0x81, 0x88,
	0x85, 0x88, 0x7E, 0x75, 0x78, 0x75, 0x7E, 0x87, 0x84, 0x87, 0x80, 0x76,
	0x78, 0x76, 0x7C, 0x86, 0x85, 0x86, 0x82, 0x77, 0x78, 0x77, 0x7B, 0x86,
	0x85, 0x86, 0x84, 0x78, 0x78, 0x77, 0x79, 0x85, 0x86, 0x86, 0x85, 0x79,
	0x77, 0x78, 0x78, 0x83, 0x86, 0x85, 0x86, 0x7B, 0x77, 0x78, 0x77, 0x81,
	0x87, 0x85, 0x87, 0x7D, 0x76, 0x78, 0x76, 0x7F, 0x87, 0x84, 0x87, 0x7F,
	0x76, 0x79, 0x76, 0x7D, 0x87, 0x85, 0x87, 0x81, 0x77, 0x78, 0x77, 0x7B,
	0x86, 0x85, 0x86, 0x83, 0x77, 0x78, 0x77, 0x79, 0x85, 0x85, 0x86, 0x84,
	0x78, 0x77, 0x77, 0x78, 0x84, 0x86, 0x85, 0x85, 0x7A, 0x77, 0x78, 0x77,
	0x82, 0x86, 0x85, 0x86, 0x7C, 0x76, 0x78, 0x77, 0x80, 0x87, 0x85, 0x87,
	0x7E, 0x76, 0x79, 0x77, 0x7E, 0x86, 0x84, 0x86, 0x80, 0x78, 0x79, 0x78,
	0x7D, 0x85, 0x84, 0x85, 0x81, 0x78, 0x79, 0x78, 0x7B, 0x85, 0x84, 0x85,
	0x83, 0x79, 0x79, 0x78, 0x7A, 0x84, 0x85, 0x85, 0x84, 0x7A, 0x78, 0x79,
	0x78, 0x83, 0x85, 0x84, 0x85, 0x7B, 0x78, 0x79, 0x78, 0x81, 0x85, 0x84,
	0x85, 0x7D, 0x77, 0x79, 0x77, 0x7F, 0x86, 0x84, 0x86, 0x7F, 0x77, 0x79,
	0x77, 0x7D, 0x85, 0x84, 0x85, 0x80, 0x78, 0x79, 0x78, 0x7C, 0x85, 0x84,
	0x85, 0x82, 0x78, 0x79, 0x78, 0x7A, 0x84, 0x84, 0x85, 0x83, 0x79, 0x78,
	0x78, 0x79, 0x83, 0x85, 0x84, 0x85, 0x7A, 0x78, 0x79, 0x78, 0x82, 0x85,
	0x84, 0x85, 0x7C, 0x79, 0x7F, 0x7E, 0x7E, 0x7F, 0x7E, 0x7F, 0x7E, 0x7F,
	0x7E, 0x7E, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F,
	0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F,
	0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F,
	0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F,
	0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F,
	0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F,
	0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F,
	0x7F, 0x7F, 0x7F, 0x7F, 0x7E, 0x7F, 0x7E, 0x7F, 0x7F, 0x7E, 0x7F, 0x7E,
	0x7F, 0x7E, 0x7F, 0x7F, 0x80, 0x7F, 0x80, 0x7F, 0x80, 0x7F, 0x80, 0x80,
	0x7F, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80
};



void sound_init( void ) {
	/*sd_init();*/
    DDRD = (1<<PD5); // OCR1A

    // Fast PWM, 8-bit, TOP=0x00FF, OVF at top, clear OC1A on compare match

    TCCR1A = (1<<COM1A1) |  (1<<WGM11); 
    TCCR1B = (1<<CS10)  | (1<<WGM12) | (1<<WGM13);
		
    TIMSK1 = (1<<TOIE1); // Interrupt on overflow
	
	ICR1=1000;
//	ICR1H = 0x30;
  //  ICR1L = 0xE8;//0xff/2;
	for (int i =0; i<64;i++)
		spi_rxtx(0xff);

// code for read from sd
	
//	sd_init();
//	if(start_read()==0xff)
//		OCR1A = spi_rxtx(0xFF);		

//

//uart_init

// shield code
	OCR1A = pgm_read_byte(&pcm_samples[0]);//spi_rxtx(0xFF);
	sei();
}
	


ISR(TIMER1_OVF_vect) {
//		printf("%i%i", ICR1H, ICR1L);	
	//	OCR1A = spi_rxtx(0xFF);
	//	 shield sound code
		if(sample>= pcm_length){
			sample = 64;
			_delay_ms(250);
		}
		
		OCR1A = pgm_read_byte(&pcm_samples[sample++]);			
		
		//*/

}

void init(void) {
    DDRD = (1<<PD5); // OCR1A

    // Fast PWM, 8-bit, TOP=0x00FF, OVF at top, clear OC1A on compare match
    TCCR1A = (1<<COM1A1) |  (1<<WGM10); 
    TCCR1B = (1<<CS10) | (1<<WGM12);
    TIMSK1 = (1<<TOIE1); // Interrupt on overflow
    OCR1A = 0;//pcm_samples[0]; // Set initial duty
    sei();
}
